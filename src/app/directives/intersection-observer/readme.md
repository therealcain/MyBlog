All of the code here is from my AngularUtilities repository: https://github.com/therealcain/AngularUtilities/blob/master/directives/intersection-observer.directive.ts
